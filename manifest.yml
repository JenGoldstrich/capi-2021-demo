applications:
- name: lemon
  buildpacks:
   - nodejs_buildpack
   - ruby_buildpack
  disk_quota: 1G
  instances: 1
  memory: 256M
  env:
    ADDS_JS_PORT: 8082
  stack: cflinuxfs3
  sidecars:
  - name: adds-js
    process_types:
    - web
    command: node sidecar.js
  processes:
  - type: web
    command: bundle exec rackup config.ru -p $PORT
    instances: 1
    disk_quota: 256M
    memory: 256M
  - type: worker
    command: node worker.js
    instances: 1
    disk_quota: 256M
    memory: 256M
